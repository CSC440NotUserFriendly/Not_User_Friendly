<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.0">
  <compounddef id="_product_8java" kind="file">
    <compoundname>Product.java</compoundname>
    <innerclass refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product" prot="public">com::google::appengine::codelab::Product</innerclass>
    <innernamespace refid="namespacecom_1_1google_1_1appengine_1_1codelab">com::google::appengine::codelab</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">package<sp/></highlight><highlight class="normal">com.google.appengine.codelab;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.Entity;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.FetchOptions;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.Key;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.KeyFactory;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.Query;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.List;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product" refkind="compound"><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product" kindref="compound">Product</ref><sp/>{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a0ad4aec15554c898684fcd6ea8d9ef10" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a0ad4aec15554c898684fcd6ea8d9ef10" kindref="member">createOrUpdateProduct</ref>(String<sp/>name,<sp/>String<sp/>description)<sp/>{</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>Entity<sp/>product<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a8281f8c29702347f39fcb651db5e073f" kindref="member">getProduct</ref>(name);</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(product<sp/>==<sp/>null)<sp/>{</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>product<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Entity(</highlight><highlight class="stringliteral">&quot;Product&quot;</highlight><highlight class="normal">,<sp/>name);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>product.setProperty(</highlight><highlight class="stringliteral">&quot;description&quot;</highlight><highlight class="normal">,<sp/>description);</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>product.setProperty(</highlight><highlight class="stringliteral">&quot;description&quot;</highlight><highlight class="normal">,<sp/>description);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a95f645b216766041423363dd06815dc7" kindref="member">persistEntity</ref>(product);</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a4fb28dec3d7ae43c47581ecadb62012b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>Iterable&lt;Entity&gt;<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a4fb28dec3d7ae43c47581ecadb62012b" kindref="member">getAllProducts</ref>(String<sp/>kind)<sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a450bc0facf36bb5525b4f66a18be74cd" kindref="member">listEntities</ref>(kind,<sp/>null,<sp/>null);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a8281f8c29702347f39fcb651db5e073f" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>Entity<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a8281f8c29702347f39fcb651db5e073f" kindref="member">getProduct</ref>(String<sp/>name)<sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Key<sp/>key<sp/>=<sp/>KeyFactory.createKey(</highlight><highlight class="stringliteral">&quot;Product&quot;</highlight><highlight class="normal">,name);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a14548b6d0d079225ae5f6596542a1c0f" kindref="member">findEntity</ref>(key);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a7a8a391c4b6446d33e163ceb21521e69" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>List&lt;Entity&gt;<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a7a8a391c4b6446d33e163ceb21521e69" kindref="member">getItems</ref>(String<sp/>name)<sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Query<sp/>query<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Query();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Key<sp/>parentKey<sp/>=<sp/>KeyFactory.createKey(</highlight><highlight class="stringliteral">&quot;Product&quot;</highlight><highlight class="normal">,<sp/>name);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.setAncestor(parentKey);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.addFilter(Entity.KEY_RESERVED_PROPERTY,<sp/>Query.FilterOperator.GREATER_THAN,<sp/>parentKey);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Entity&gt;<sp/>results<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a097d93268afc438617bd7e13f0f0f5e7" kindref="member">getDatastoreServiceInstance</ref>()</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.prepare(query).asList(FetchOptions.Builder.withDefaults());</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>results;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="74" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1addc5d2e4ec78d1eef631ffc4cdf268a1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>String<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1addc5d2e4ec78d1eef631ffc4cdf268a1" kindref="member">deleteProduct</ref>(String<sp/>productKey)</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Key<sp/>key<sp/>=<sp/>KeyFactory.createKey(</highlight><highlight class="stringliteral">&quot;Product&quot;</highlight><highlight class="normal">,productKey);<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;Entity&gt;<sp/>items<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_product_1a7a8a391c4b6446d33e163ceb21521e69" kindref="member">getItems</ref>(productKey);<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!items.isEmpty()){</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Cannot<sp/>delete,<sp/>as<sp/>there<sp/>are<sp/>items<sp/>associated<sp/>with<sp/>this<sp/>product.&quot;</highlight><highlight class="normal">;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a04a02f078a3bd61f4bb36b48b4580c58" kindref="member">deleteEntity</ref>(key);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Product<sp/>deleted<sp/>successfully&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/alex/Documents/CSC_440/Project/SMIL/Not_User_Friendly/Documents/Code References/CodeLabEx1/src/com/google/appengine/codelab/Product.java"/>
  </compounddef>
</doxygen>
