<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.0">
  <compounddef id="_item_servlet_8java" kind="file">
    <compoundname>ItemServlet.java</compoundname>
    <innerclass refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet" prot="public">com::google::appengine::codelab::ItemServlet</innerclass>
    <innernamespace refid="namespacecom_1_1google_1_1appengine_1_1codelab">com::google::appengine::codelab</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>2011,<sp/>Google<sp/>Inc.<sp/>All<sp/>Rights<sp/>Reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">package<sp/></highlight><highlight class="normal">com.google.appengine.codelab;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.io.IOException;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.io.PrintWriter;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.logging.Level;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.logging.Logger;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.servlet.ServletException;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.servlet.http.HttpServletRequest;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.servlet.http.HttpServletResponse;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>com.google.appengine.api.datastore.Entity;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal">@SuppressWarnings(</highlight><highlight class="stringliteral">&quot;serial&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="33" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet" refkind="compound"><highlight class="normal">public<sp/>class<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet" kindref="compound">ItemServlet</ref><sp/>extends<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_base_servlet" kindref="compound">BaseServlet</ref><sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">final</highlight><highlight class="normal"><sp/>Logger<sp/>logger<sp/>=<sp/>Logger.getLogger(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet" kindref="compound">ItemServlet</ref>.class.getCanonicalName());</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet_1ac3bcf595bb8d62c1ef0a44d24ce129c8" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>doGet(HttpServletRequest<sp/>req,<sp/>HttpServletResponse<sp/>resp)</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/>ServletException,<sp/>IOException<sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>super.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_base_servlet_1abb34ecfcd902fafc62944237f49283b9" kindref="member">doGet</ref>(req,<sp/>resp);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.log(Level.INFO,<sp/></highlight><highlight class="stringliteral">&quot;Obtaining<sp/>Item<sp/>listing&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>searchBy<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;item-searchby&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>searchFor<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;q&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>PrintWriter<sp/>out<sp/>=<sp/>resp.getWriter();</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(searchFor<sp/>==<sp/>null<sp/>||<sp/>searchFor.equals(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Iterable&lt;Entity&gt;<sp/>entities<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item" kindref="compound">Item</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_1ac34c1a67f0b499b88f2ba10c9c57d9d5" kindref="member">getAllItems</ref>();</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out.println(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a87d0f3bedf24d631c476ca62d10fb8d9" kindref="member">writeJSON</ref>(entities));</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(searchBy<sp/>==<sp/>null<sp/>||<sp/>searchBy.equals(</highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Iterable&lt;Entity&gt;<sp/>entities<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item" kindref="compound">Item</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_1a03e5b5b5ebc360327091c946c6b7874d" kindref="member">getItem</ref>(searchFor);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out.println(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a87d0f3bedf24d631c476ca62d10fb8d9" kindref="member">writeJSON</ref>(entities));</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(searchBy<sp/>!=<sp/>null<sp/>&amp;&amp;<sp/>searchBy.equals(</highlight><highlight class="stringliteral">&quot;product&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Iterable&lt;Entity&gt;<sp/>entities<sp/>=<sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item" kindref="compound">Item</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_1a1c221deafdbd13c4133edf24cb6dcdb8" kindref="member">getItemsForProduct</ref>(</highlight><highlight class="stringliteral">&quot;Item&quot;</highlight><highlight class="normal">,<sp/>searchFor);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out.println(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a87d0f3bedf24d631c476ca62d10fb8d9" kindref="member">writeJSON</ref>(entities));</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet_1a5d5c9f0b60f447633023ec79cfa95ea1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>doPut(HttpServletRequest<sp/>req,<sp/>HttpServletResponse<sp/>resp)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/>ServletException,<sp/>IOException<sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.log(Level.INFO,<sp/></highlight><highlight class="stringliteral">&quot;Creating<sp/>Item&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>itemName<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>productName<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;product&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>price<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;price&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item" kindref="compound">Item</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_1a1f0cd1ed3e9e496f6cd40cde580dc045" kindref="member">createOrUpdateItem</ref>(productName,<sp/>itemName,<sp/>price);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet_1a977e84d117d1e9c9faf1be8e71f0e69e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>doDelete(HttpServletRequest<sp/>req,<sp/>HttpServletResponse<sp/>resp)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/>ServletException,<sp/>IOException<sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.log(Level.INFO,<sp/></highlight><highlight class="stringliteral">&quot;deleting<sp/>item&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>itemKey<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>PrintWriter<sp/>out<sp/>=<sp/>resp.getWriter();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">{<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out.println(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item" kindref="compound">Item</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_1a43b58e542f3362d9d1f3c35cc0d27d4d" kindref="member">deleteItem</ref>(itemKey));</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal">(Exception<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out.println(<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util" kindref="compound">Util</ref>.<ref refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_util_1a0d7e9492450f9aaaaf6b8b4e8a9d7890" kindref="member">getErrorMessage</ref>(e));</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="classcom_1_1google_1_1appengine_1_1codelab_1_1_item_servlet_1a6233275e3c630dbb5ee2e33be6a813ba" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>doPost(HttpServletRequest<sp/>req,<sp/>HttpServletResponse<sp/>resp)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/>ServletException,<sp/>IOException<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>String<sp/>action<sp/>=<sp/>req.getParameter(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(action.equalsIgnoreCase(</highlight><highlight class="stringliteral">&quot;delete&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>doDelete(req,<sp/>resp);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(action.equalsIgnoreCase(</highlight><highlight class="stringliteral">&quot;put&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>doPut(req,<sp/>resp);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="104"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/alex/Documents/CSC_440/Project/SMIL/Not_User_Friendly/Documents/Code References/CodeLabEx1/src/com/google/appengine/codelab/ItemServlet.java"/>
  </compounddef>
</doxygen>
