
import java.io.File;
import java.util.LinkedList;

import com.csc440.nuf.*;
import com.csc440.nuf.components.*;
import com.csc440.nuf.parser.SMILParser;

public class SMILObjExample {

	/**
	 * @author Brad Barker
	 * 
	 * This isn't anything special just an example of parsing a smil file
	 * and then getting the elements from the q.
	 * 
	 */
	
	
	public static int parseChar(String s){
		
		String [] temp = s.split("\\D");
		
		int i = Integer.parseInt(temp[0]);
		
		return 0;
	}
	
	public static void main(String[] args) {
		
		
		
		SMILParser sp = new SMILParser(new File("../SMILProject/SMILPresentations/SMILSample/sample.smil"));
		
		System.out.println(WaitingQueue.getLayout().toString() + "\n");
		WaitingQueue.prepQ();//sort
		String ind = "\t";
		
		while(!WaitingQueue.isEmpty()){
			AbstractSMILObject o = WaitingQueue.getNext();
		
			System.out.println(ind + o.printTag());
			
			if(o instanceof SMILParallel){
				ind += "\t";
				LinkedList<AbstractSMILObject> ao = ((SMILParallel)o).getElements();
				
				for(int i=0; i<ao.size(); i++){
					AbstractSMILObject temp = ao.get(i);
					System.out.println(ind + temp.printTag());
					System.out.println(ind + temp.printData());
					System.out.println(ind + temp.printEndTag());
				}
				System.out.println(o.printEndTag());
			}
			else if(o instanceof SMILSequential){
				LinkedList<AbstractSMILObject> ao = ((SMILSequential)o).getElements();
				for(int i=0; i<ao.size(); i++){
					AbstractSMILObject temp = ao.get(i);
					System.out.println(temp.printTag());
					System.out.println(temp.printData());
					System.out.println(temp.printEndTag());
				}
				System.out.println(o.printEndTag());
			}
		}
	}
}
