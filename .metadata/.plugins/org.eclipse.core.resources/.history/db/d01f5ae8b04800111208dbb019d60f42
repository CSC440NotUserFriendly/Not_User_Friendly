package com.csc440.nuf.parser;

/**
 * CSC-440 SMIL Project
 * 01-22-2011
 * SMILHandler.java
 * @author Brad Barker
 * 
 * This class is the bread and butter of the parser.
 * It will interpret the XML determining object types and
 * creating those objects to be added to the data structure.
 * 
 */

import org.xml.sax.Attributes;
import org.xml.sax.helpers.DefaultHandler;

import com.csc440.nuf.WaitingQueue;
import com.csc440.nuf.components.*;

public class SMILHandler extends DefaultHandler {

    private static WaitingQueue wQueue;
    private static SMILLayout layout;

    @Override
    public void startElement(String uri, String localName, String qName, Attributes att) {

        if (qName.equals("root-layout")) {
        	//Not sure what to do with this yet, it can't go in the queue.
            layout = new SMILLayout(att);
        }
        if (qName.equals("par")) {
        	//Can't add this until all the objects contained within it are added.
        	//Not quite sure how to do it yet.
            WaitingQueue.add(new SMILParallel(att));
        }
        if (qName.equals("seq")) {
        	//Same problem with that as with <par>
            WaitingQueue.add(new SMILSequential(att));
        }
        if (qName.equals("smilText")) {
        	WaitingQueue.add(new SMILText(att));
        }
        if (qName.equals("img")) {
        	WaitingQueue.add(new SMILImage(att));
        }
        if (qName.equals("video")) {
        	WaitingQueue.add(new SMILVideo(att));
        }
    }
    
    //Testing code to print data
    @SuppressWarnings("unused")
	private void printXMLData(Attributes att) {
        for(int i=0; i<att.getLength(); i++){
            System.out.printf("%20s \t %-20s \n",
                    att.getLocalName(i), att.getValue(att.getLocalName(i)));
        
        }

    }

}

